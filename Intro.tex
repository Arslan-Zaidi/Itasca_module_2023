% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math} % this also loads fontspec
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else
  % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same}
\hypersetup{
  pdftitle={A brief introduction to R},
  pdfauthor={Arslan A. Zaidi},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\title{A brief introduction to R}
\author{Arslan A. Zaidi}
\date{2023-07-17}

\begin{document}
\maketitle

\hypertarget{setting-up}{%
\section{Setting up}\label{setting-up}}

In this module, you will gain a basic introduction to R, the
open-source, widely-used programming language commonly used for
statistical analysis, and ggplot2, a popular library for plotting.

You can download and learn more about R here:

\url{http://www.r-project.org}

We will use R inside Rstudio on the Cloud, which provides a
user-friendly graphical interface with many other convenient functions.

To use Rstudio Cloud, visit \url{https://posit.cloud/}. Click on ``Sign
up'', then ``Learn More'' under the ``Free'' option, and then finally
``Sign up'' again. Use either your GitHub or Google account to create an
account and log in.

You will be taken to ``Your Workspace'' where

\hypertarget{basic-r}{%
\section{Basic R}\label{basic-r}}

R can be used as a calculator:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# addition; subtraction}
\CommentTok{\# you can write separate commands on the same line by using a semi{-}colon}
\DecValTok{2}\SpecialCharTok{+}\DecValTok{2}\NormalTok{; }\DecValTok{4{-}4}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 4
\end{verbatim}

\begin{verbatim}
## [1] 0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#multiplication}
\DecValTok{8}\SpecialCharTok{*}\DecValTok{9}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 72
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#division}
\FloatTok{1e3}\SpecialCharTok{/}\DecValTok{10}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 100
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#exponents and logs}
\DecValTok{2}\SpecialCharTok{\^{}}\DecValTok{8}\NormalTok{; }\FunctionTok{sqrt}\NormalTok{(}\DecValTok{256}\NormalTok{); }\FunctionTok{log}\NormalTok{(}\DecValTok{100}\NormalTok{, }\AttributeTok{base =} \DecValTok{10}\NormalTok{); }\FunctionTok{log}\NormalTok{(}\DecValTok{1}\NormalTok{, }\AttributeTok{base =} \FunctionTok{exp}\NormalTok{(}\DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 256
\end{verbatim}

\begin{verbatim}
## [1] 16
\end{verbatim}

\begin{verbatim}
## [1] 2
\end{verbatim}

\begin{verbatim}
## [1] 0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#combination}
\NormalTok{(}\DecValTok{2}\SpecialCharTok{\^{}}\DecValTok{8}\NormalTok{) }\SpecialCharTok{/}\NormalTok{ (}\FunctionTok{sqrt}\NormalTok{(}\DecValTok{2}\NormalTok{)}\SpecialCharTok{+}\DecValTok{2} \SpecialCharTok{+}\FunctionTok{log}\NormalTok{(}\DecValTok{10}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 44.78031
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#You can try more by typing ?"/"}
\end{Highlighting}
\end{Shaded}

You can also assign values to variables and use those.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OtherTok{=} \DecValTok{4}\SpecialCharTok{+}\DecValTok{5}\NormalTok{; b }\OtherTok{=} \DecValTok{2}
\FunctionTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 9
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a}\SpecialCharTok{*}\DecValTok{24}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 216
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\SpecialCharTok{+}\NormalTok{ b}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 11
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a}\SpecialCharTok{\^{}}\NormalTok{b}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 81
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#special variables and built{-}in constants}
\FunctionTok{exp}\NormalTok{(}\DecValTok{1}\NormalTok{); pi; pi}\FloatTok{{-}0.1341593}\NormalTok{; pi}\SpecialCharTok{\^{}}\DecValTok{2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 2.718282
\end{verbatim}

\begin{verbatim}
## [1] 3.141593
\end{verbatim}

\begin{verbatim}
## [1] 3.007433
\end{verbatim}

\begin{verbatim}
## [1] 9.869604
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#variables don\textquotesingle{}t just have to be numbers}
\NormalTok{a }\OtherTok{=} \StringTok{"Hello World"}\NormalTok{; a; }\FunctionTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Hello World"
\end{verbatim}

\begin{verbatim}
## [1] "Hello World"
\end{verbatim}

\hypertarget{loops}{%
\subsection{Loops}\label{loops}}

Loops are one of the most important things we can do in programming. We
can automate a lot of things with loops.

A loop involves some kind of counter to loop over and some action to be
performed for each step of the counter. There are two main kinds of
loops: ``for'' loops and ``while'' loops.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#For loop}
\ControlFlowTok{for}\NormalTok{( i }\ControlFlowTok{in} \DecValTok{1}\SpecialCharTok{:}\DecValTok{5}\NormalTok{ )\{}
  \FunctionTok{print}\NormalTok{(i}\SpecialCharTok{\^{}}\DecValTok{2}\NormalTok{)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1
## [1] 4
## [1] 9
## [1] 16
## [1] 25
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#We can also add conditions}
\ControlFlowTok{for}\NormalTok{( i }\ControlFlowTok{in} \DecValTok{1}\SpecialCharTok{:}\DecValTok{5}\NormalTok{ )\{}
  \ControlFlowTok{if}\NormalTok{( i }\SpecialCharTok{\textless{}} \DecValTok{2}\NormalTok{ )\{}
    \FunctionTok{print}\NormalTok{(i)\}}\ControlFlowTok{else}\NormalTok{\{}
      \FunctionTok{print}\NormalTok{(i }\SpecialCharTok{+} \DecValTok{1}\NormalTok{)}
\NormalTok{    \}}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1
## [1] 3
## [1] 4
## [1] 5
## [1] 6
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#While loop}
\NormalTok{i}\OtherTok{\textless{}{-}}\DecValTok{0}
\ControlFlowTok{while}\NormalTok{( i }\SpecialCharTok{\textless{}} \DecValTok{5}\NormalTok{ )\{}
  \FunctionTok{print}\NormalTok{(i)}
\NormalTok{  i}\OtherTok{=}\NormalTok{i}\SpecialCharTok{+}\DecValTok{1}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
## [1] 1
## [1] 2
## [1] 3
## [1] 4
\end{verbatim}

\hypertarget{functions}{%
\subsubsection{Functions}\label{functions}}

A function is a block of code which only runs when it is called. You can
pass data, known as parameters, into a function. A function can return
data as a result.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#Built{-}in functions}
\FunctionTok{max}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{5}\NormalTok{); }\FunctionTok{min}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{5}\NormalTok{); }\FunctionTok{mean}\NormalTok{(}\DecValTok{0}\SpecialCharTok{:}\DecValTok{200}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 5
\end{verbatim}

\begin{verbatim}
## [1] 0
\end{verbatim}

\begin{verbatim}
## [1] 100
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#the paste() function pastes characters with other characters or numbers}
\FunctionTok{paste}\NormalTok{(}\StringTok{"This is the square root of 2: "}\NormalTok{, }\FunctionTok{sqrt}\NormalTok{(}\DecValTok{2}\NormalTok{), }\AttributeTok{sep =} \StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "This is the square root of 2: 1.4142135623731"
\end{verbatim}

You can learn more about built-in functions simply by typing \texttt{?}
followed by the function or \texttt{help} followed by the function. Try
it.

You can use one of the built-in functions or write your own.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#Custom function }
\NormalTok{custom\_function }\OtherTok{=} \ControlFlowTok{function}\NormalTok{(x)\{}
  \ControlFlowTok{if}\NormalTok{(x }\SpecialCharTok{\textless{}} \DecValTok{100}\NormalTok{)\{}
    \FunctionTok{return}\NormalTok{(x)}
\NormalTok{  \}}
\NormalTok{\}}

\FunctionTok{custom\_function}\NormalTok{(}\DecValTok{10}\NormalTok{); }\FunctionTok{custom\_function}\NormalTok{(}\DecValTok{100}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 10
\end{verbatim}

You can apply a function to a number of observations simultaneously,
e.g.~over the elements of a vector by using the ``sapply'' function,
which supplies (haha get it) the function to all elements.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#sapply requires 2 arguments}
\CommentTok{\#1. the vector to loop over}
\CommentTok{\#2. the function to apply {-} this could be a built{-}in or custom function}
\NormalTok{a }\OtherTok{=} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\DecValTok{10}\NormalTok{)}
\NormalTok{b }\OtherTok{=} \FunctionTok{sapply}\NormalTok{(a, custom\_function)}
\NormalTok{b}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1]  1  2  3  4  5  6  7  8  9 10
\end{verbatim}

\hypertarget{data-structures}{%
\subsubsection{Data structures}\label{data-structures}}

R has the flexibility of working with different types of data structures
such as vectors, matrices, lists, and data.frames. They have their
different uses and pros and cons so I encourage you to read about them.
I'll present a few examples here that are relevant to the workshop.

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\#\#\#\#\#\# Vectors \#\#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\# vectors are one{-}dimensional lists of elements}
\CommentTok{\# you can concatenate both characters and numbers using "c()"}
\NormalTok{a }\OtherTok{=} \FunctionTok{c}\NormalTok{(}\DecValTok{2}\NormalTok{, }\StringTok{"f"}\NormalTok{,}\StringTok{"hello"}\NormalTok{,}\DecValTok{10}\NormalTok{)}

\CommentTok{\# you can access specific elements of a vector using index}
\NormalTok{a[}\DecValTok{3}\NormalTok{]; a[}\DecValTok{2}\SpecialCharTok{:}\DecValTok{4}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "hello"
\end{verbatim}

\begin{verbatim}
## [1] "f"     "hello" "10"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# changing an element}
\NormalTok{a[}\DecValTok{3}\NormalTok{] }\OtherTok{=} \StringTok{"bye"}

\NormalTok{b }\OtherTok{=} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\DecValTok{10}\NormalTok{); d }\OtherTok{=} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{10}\NormalTok{, }\DecValTok{5}\SpecialCharTok{:}\DecValTok{6}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\#\#\#\#\#\#\#\#\#\# Matrices \#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\# matrices are two dimensional objects}
\NormalTok{mat }\OtherTok{=} \FunctionTok{matrix}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\DecValTok{20}\NormalTok{), }\DecValTok{5}\NormalTok{, }\DecValTok{4}\NormalTok{)}
\NormalTok{mat}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      [,1] [,2] [,3] [,4]
## [1,]    1    6   11   16
## [2,]    2    7   12   17
## [3,]    3    8   13   18
## [4,]    4    9   14   19
## [5,]    5   10   15   20
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#accessing specific rows and columns}
\CommentTok{\#first number indicates row and second number indicates column }
\NormalTok{mat[}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 12
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#accessing a row}
\NormalTok{mat[}\DecValTok{4}\NormalTok{,]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1]  4  9 14 19
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#accessing a column}
\NormalTok{mat[,}\DecValTok{2}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1]  6  7  8  9 10
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\#\#\#\#\#\#\#\#\#\# Data frames \#\#\#\#\#\#\#\#\#\#\#}
\CommentTok{\# data frames are more formatted tables with named columns}
\NormalTok{dat }\OtherTok{\textless{}{-}} \FunctionTok{data.frame}\NormalTok{ (}
  \AttributeTok{Training =} \FunctionTok{c}\NormalTok{(}\StringTok{"Strength"}\NormalTok{, }\StringTok{"Stamina"}\NormalTok{, }\StringTok{"Other"}\NormalTok{),}
  \AttributeTok{Pulse =} \FunctionTok{c}\NormalTok{(}\DecValTok{100}\NormalTok{, }\DecValTok{150}\NormalTok{, }\DecValTok{120}\NormalTok{),}
  \AttributeTok{Duration =} \FunctionTok{c}\NormalTok{(}\DecValTok{60}\NormalTok{, }\DecValTok{30}\NormalTok{, }\DecValTok{45}\NormalTok{)}
\NormalTok{)}

\NormalTok{dat}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   Training Pulse Duration
## 1 Strength   100       60
## 2  Stamina   150       30
## 3    Other   120       45
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# accessing specific columns}
\NormalTok{dat}\SpecialCharTok{$}\NormalTok{Training; dat[}\StringTok{\textquotesingle{}Training\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Strength" "Stamina"  "Other"
\end{verbatim}

\begin{verbatim}
##   Training
## 1 Strength
## 2  Stamina
## 3    Other
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# operating on a column}
\NormalTok{dat}\SpecialCharTok{$}\NormalTok{Duration}\SpecialCharTok{/}\DecValTok{5}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 12  6  9
\end{verbatim}

\hypertarget{exercises}{%
\subsection{Exercises}\label{exercises}}

\textbf{Q.} Compute \(\frac{74+5}{(2â‹…3)^5}\) and assign the name
\texttt{calculation} to the result. Print \texttt{calculation}.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#code here}
\end{Highlighting}
\end{Shaded}

\textbf{Q.} Define a vector \texttt{months} containing the numbers 29,
63, 7, 23, 84, 10 and 9. Compute a vector \texttt{years} from it by
dividing months by 12. Print \texttt{years}.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#code here}
\end{Highlighting}
\end{Shaded}

\textbf{Q.} In a fictitious medical study patients should be excluded
from the study if they weigh more than 90 kg or if they are either
younger than 18 years or older than 60 years. Define the variable age as
age \textless- c(50, 17, 39, 27, 90) and the variable weight as weight
\textless- c(80, 75, 92, 105, 60). Then write a logical statement
involving these two variables that tests for the exclusion criteria.
(Find help in chapter 1.6.1)

\hypertarget{plotting}{%
\section{Plotting}\label{plotting}}

R has basic plotting functionality. But we will use the ggplot package
because it's much more flexible and let's face it, prettier. You can
find more detailed information on
\href{https://ggplot2-book.org/introduction.html}{here}.

``All plots are composed of the data, the information you want to
visualise, and a mapping, the description of how the data's variables
are mapped to aesthetic attributes. There are five mapping components:

\begin{itemize}
\item
  A layer is a collection of geometric elements and statistical
  transformations. Geometric elements, geoms for short, represent what
  you actually see in the plot: points, lines, polygons, etc.
  Statistical transformations, stats for short, summarise the data: for
  example, binning and counting observations to create a histogram, or
  fitting a linear model.
\item
  Scales map values in the data space to values in the aesthetic space.
  This includes the use of colour, shape or size. Scales also draw the
  legend and axes, which make it possible to read the original data
  values from the plot (an inverse mapping).
\item
  A coord, or coordinate system, describes how data coordinates are
  mapped to the plane of the graphic. It also provides axes and
  gridlines to help read the graph. We normally use the Cartesian
  coordinate system, but a number of others are available, including
  polar coordinates and map projections.
\item
  A theme controls the finer points of display, like the font size and
  background colour.''
\end{itemize}

To load a package, use the library function. The mpg dataset is included
in the package for practice. It includes information about the fuel
economy of popular car models in 1999 and 2008, collected by the US
Environmental Protection Agency, \url{http://fueleconomy.gov}.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(ggplot2)}

\CommentTok{\# the head() function allows you to see the first 6 lines }
\FunctionTok{head}\NormalTok{(mpg)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 11
##   manufacturer model displ  year   cyl trans      drv     cty   hwy fl    class 
##   <chr>        <chr> <dbl> <int> <int> <chr>      <chr> <int> <int> <chr> <chr> 
## 1 audi         a4      1.8  1999     4 auto(l5)   f        18    29 p     compa~
## 2 audi         a4      1.8  1999     4 manual(m5) f        21    29 p     compa~
## 3 audi         a4      2    2008     4 manual(m6) f        20    31 p     compa~
## 4 audi         a4      2    2008     4 auto(av)   f        21    30 p     compa~
## 5 audi         a4      2.8  1999     6 auto(l5)   f        16    26 p     compa~
## 6 audi         a4      2.8  1999     6 manual(m5) f        18    26 p     compa~
\end{verbatim}

Every ggplot2 plot has three key components:

\begin{itemize}
\item
  Data,
\item
  A set of aesthetic mappings between variables in the data and visual
  properties, and
\item
  At least one layer which describes how to render each observation.
  Layers are usually created with a geom function.
\end{itemize}

Let's create a scatterplot:

Data: mpg. Aesthetic mapping: engine size mapped to x position, fuel
economy to y position. Layer: points.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(mpg, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ displ, }\AttributeTok{y =}\NormalTok{ hwy)) }\SpecialCharTok{+} 
  \FunctionTok{geom\_point}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{Intro_files/figure-latex/unnamed-chunk-14-1.pdf}

Pay attention to the structure of this function call: data and aesthetic
mappings are supplied in ggplot(), then layers are added on with +. This
is an important pattern, and as you learn more about ggplot2 you'll
construct increasingly sophisticated plots by adding on more types of
components.

Almost every plot maps a variable to x and y, so naming these aesthetics
is tedious, so the first two unnamed arguments to aes() will be mapped
to x and y.

geom\_point() specifies the type of plot you want to create. In this
case, a ``point'' plot or scatterplot. Other types are histograms,
density plots, line plots, bar plots, pie charts, etc. The aes() call
can be placed within the geom\_ as well. In fact, I prefer to do it this
way. Let's try the same plot without explicitly stating x and y and
putting aes() inside geom\_point().

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(mpg) }\SpecialCharTok{+} 
  \FunctionTok{geom\_point}\NormalTok{(}\FunctionTok{aes}\NormalTok{(displ, hwy))}
\end{Highlighting}
\end{Shaded}

\includegraphics{Intro_files/figure-latex/unnamed-chunk-15-1.pdf}

I hate the grey background. Let's change it and also edit the axis
labels.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(mpg, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ displ, }\AttributeTok{y =}\NormalTok{ hwy)) }\SpecialCharTok{+} 
  \FunctionTok{geom\_point}\NormalTok{() }\SpecialCharTok{+} 
  \FunctionTok{theme\_classic}\NormalTok{() }\SpecialCharTok{+} \CommentTok{\# change theme}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{x =} \StringTok{"Engine size"}\NormalTok{, }\AttributeTok{y =} \StringTok{"Fuel economy"}\NormalTok{) }\CommentTok{\# axis labels}
\end{Highlighting}
\end{Shaded}

\includegraphics{Intro_files/figure-latex/unnamed-chunk-16-1.pdf}

You can customize the color, shape, and transparency of the points as
well, either for all of them or grouped one or more factors in the data
frame.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# if you want to change the color of ALL points, place "color" outside aes()}
\FunctionTok{ggplot}\NormalTok{(mpg) }\SpecialCharTok{+} 
  \FunctionTok{geom\_point}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ displ, }\AttributeTok{y =}\NormalTok{ hwy), }
             \AttributeTok{color =} \StringTok{"blue"}\NormalTok{) }\SpecialCharTok{+} 
  \FunctionTok{theme\_classic}\NormalTok{() }\SpecialCharTok{+} \CommentTok{\# change theme}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{x =} \StringTok{"Engine size"}\NormalTok{, }\AttributeTok{y =} \StringTok{"Fuel economy"}\NormalTok{) }\CommentTok{\# axis labels}
\end{Highlighting}
\end{Shaded}

\includegraphics{Intro_files/figure-latex/unnamed-chunk-17-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#You can provide hex codes for the colors as well}
\CommentTok{\#I personally like getting these from https://colorbrewer2.org/}
\FunctionTok{ggplot}\NormalTok{(mpg) }\SpecialCharTok{+} 
  \FunctionTok{geom\_point}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ displ, }\AttributeTok{y =}\NormalTok{ hwy), }
             \AttributeTok{color =} \StringTok{"\#a6bddb"}\NormalTok{) }\SpecialCharTok{+} 
  \FunctionTok{theme\_classic}\NormalTok{() }\SpecialCharTok{+} \CommentTok{\# change theme}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{x =} \StringTok{"Engine size"}\NormalTok{, }\AttributeTok{y =} \StringTok{"Fuel economy"}\NormalTok{) }\CommentTok{\# axis labels}
\end{Highlighting}
\end{Shaded}

\includegraphics{Intro_files/figure-latex/unnamed-chunk-17-2.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#if you want to change the color of points by some factor, place "color" inside aes()}
\FunctionTok{ggplot}\NormalTok{(mpg) }\SpecialCharTok{+} 
  \FunctionTok{geom\_point}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ displ, }\AttributeTok{y =}\NormalTok{ hwy, }\AttributeTok{color =}\NormalTok{ class)) }\SpecialCharTok{+} 
  \FunctionTok{theme\_classic}\NormalTok{() }\SpecialCharTok{+} \CommentTok{\# change theme}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{x =} \StringTok{"Engine size"}\NormalTok{, }\AttributeTok{y =} \StringTok{"Fuel economy"}\NormalTok{) }\CommentTok{\# axis labels}
\end{Highlighting}
\end{Shaded}

\includegraphics{Intro_files/figure-latex/unnamed-chunk-17-3.pdf}

Let's try another plot - a histogram - of fuel economy. Histograms plot
summarized data - the no. of observations within each bin. This
calculation is all done automatically within ggplot. In contrast to
scatterplots, histograms only require one variable, not both x and y.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(mpg, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ hwy)) }\SpecialCharTok{+} 
  \FunctionTok{geom\_histogram}\NormalTok{() }\SpecialCharTok{+} 
  \FunctionTok{theme\_classic}\NormalTok{() }\SpecialCharTok{+} \CommentTok{\# change theme}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{x =} \StringTok{"Fuel economy"}\NormalTok{, }\AttributeTok{y =} \StringTok{"Count"}\NormalTok{) }\CommentTok{\# axis labels}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
\end{verbatim}

\includegraphics{Intro_files/figure-latex/unnamed-chunk-18-1.pdf}

\end{document}
